<!DOCTYPE html>
<html lang="en">
<body>
  <script>
    window.developMode = function() { return true; };
  </script>
  <script src="merchant.onepay.js"></script>

  <a href="javascript:window.openOnepay('ok', true, true);">Open modal with transaction ok with logo and with description</a>
  <br><br>
  <a href="javascript:window.openOnepay('ok', true, false);">Open modal with transaction ok with logo and without description</a>
  <br><br>
  <a href="javascript:window.openOnepay('ok', false, true);">Open modal with transaction ok without logo and with description</a>
  <br><br>
  <a href="javascript:window.openOnepay('ok', false, false);">Open modal with transaction ok without logo and without description</a>
  <br><br>
  <a href="javascript:window.openOnepay('error', false, false);">Open modal with transaction error</a>

  <script>

    window.openOnepay = function(action, withCommerceLogo, withTransactionDescription) {
      var commerceLogo = withCommerceLogo ? 'https://raw.githubusercontent.com/TransbankDevelopers/transbank-sdk-java-onepay-example/3752b133/src/main/webapp/images/icons/logo-01.png' : undefined;
      var transactionDescription = withTransactionDescription ? 'Set de herramientas portables' : undefined;
      var options = {
          endpoint: 'endpoint_' + action,
          commerceLogo: commerceLogo || '',
          callbackUrl: 'callback',
          transactionDescription: transactionDescription || '',
        onclose: function (status) {
            console.log('status is: ', status);
        }
      };
      Onepay.checkout(options);
    }

  </script>
</body>
</html>
